include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

# GenParticle transition
include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates2GenParticles.cfi"

# muon isolation

# additional tau reconstruction
include "PhysicsTools/PatAlgos/data/recoLayer0/tauTagging.cff"

# produce associated jet correction factors in a valuemap
include "PhysicsTools/PatAlgos/data/recoLayer0/jetCorrFactors.cfi"

# JetMET corrections
include "PhysicsTools/PatAlgos/data/recoLayer0/jetMETCorrections.cff"

include "PhysicsTools/PatAlgos/data/recoLayer0/electronIsolation.cff"
include "PhysicsTools/PatAlgos/data/recoLayer0/photonIsolation.cff"
include "PhysicsTools/PatAlgos/data/recoLayer0/muonIsolation.cff"
#include "PhysicsTools/PatAlgos/data/recoLayer0/tauIsolation.cff"  # dummy, at the moment

sequence patBeforeLevel0Reco_withoutPFTau = {
  genParticles,
  // patMuonIsolation, # don't run by default, only needed on old 152 reco samples
  // patCaloTauTagging, # don't run by default, doesn't work on AOD only samples
  jetCorrFactors,
  patAODElectronIsolation,
  patAODPhotonIsolation,
  patAODMuonIsolation,
  patPFTauTagging,     # take this off if you get a crash on 1.6.10 AODSIM
  patJetMETCorrections # needed for the MET
}

sequence patBeforeLevel0Reco = {
  #patPFTauTagging,
  patBeforeLevel0Reco_withoutPFTau
  #,patAODTauIsolation
}
