process PAT = {


  ### Input ###

  untracked PSet maxEvents = { untracked int32 input = 100 }


  ### PAT steering ###

  include "PhysicsTools/PatAlgos/test/boostrapWithFamos.cff"
  include "PhysicsTools/PatAlgos/test/PATLayer0_FamosSetup.cff"
  include "PhysicsTools/PatAlgos/test/PATLayer1_FamosSetup.cff"
  include "PhysicsTools/PatAlgos/data/PATLayer0.cff"
  include "PhysicsTools/PatAlgos/data/PATLayer1.cff"

  path p = {
    patLayer0_withPFTau, patLayer1
  }


  ### Output ###

  # define the event content
  block patEventContent = {
    untracked vstring outputCommands = {
      "drop *"
    }
  }
  include "PhysicsTools/PatAlgos/test/PATLayer1_EventContent.cff"
  replace patEventContent.outputCommands += patLayer1EventContent.outputCommands

  # only accept events passing the complete path
  block patEventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p" }
    }
  }

  # the actual output module
  module out = PoolOutputModule {
    untracked string fileName = "PATLayer1_Output.root"
    using patEventSelection
    using patEventContent
    untracked bool verbose = false
  }

  endpath outpath = { out }


}
